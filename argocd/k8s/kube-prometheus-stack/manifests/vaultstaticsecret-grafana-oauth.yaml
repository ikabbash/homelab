apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: grafana-oauth-secret
  namespace: monitoring
  annotations:
    argocd.argoproj.io/sync-wave: "-1"
spec:
  vaultAuthRef: default
  type: kv-v2
  mount: homelab/infra/kv-secret
  path: platforms/oauth/grafana
  rolloutRestartTargets:
    - kind: Deployment
      name: kube-prometheus-stack-grafana
  destination:
    create: true
    name: grafana-oauth-secret